(function(t){function e(e){for(var n,s,r=e[0],c=e[1],l=e[2],d=0,p=[];d<r.length;d++)s=r[d],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&p.push(o[s][0]),o[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(p.length)p.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,s=1;s<a.length;s++){var c=a[s];0!==o[c]&&(n=!1)}n&&(i.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},o={app:0},i=[];function s(t){return r.p+"js/"+({about:"about"}[t]||t)+"."+{about:"574102ba"}[t]+".js"}function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.e=function(t){var e=[],a=o[t];if(0!==a)if(a)e.push(a[2]);else{var n=new Promise((function(e,n){a=o[t]=[e,n]}));e.push(a[2]=n);var i,c=document.createElement("script");c.charset="utf-8",c.timeout=120,r.nc&&c.setAttribute("nonce",r.nc),c.src=s(t);var l=new Error;i=function(e){c.onerror=c.onload=null,clearTimeout(d);var a=o[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+n+": "+i+")",l.name="ChunkLoadError",l.type=n,l.request=i,a[1](l)}o[t]=void 0}};var d=setTimeout((function(){i({type:"timeout",target:c})}),12e4);c.onerror=c.onload=i,document.head.appendChild(c)}return Promise.all(e)},r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/tkgd-admin/",r.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var u=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"00f5":function(t,e,a){},"0422":function(t,e,a){"use strict";var n=a("fcc5"),o=a.n(n);o.a},"0b86":function(t,e,a){"use strict";var n=a("e6a8"),o=a.n(n);o.a},1:function(t,e){},1313:function(t,e,a){},"1efd":function(t,e,a){"use strict";var n=a("d694"),o=a.n(n);o.a},2:function(t,e){},"22ed":function(t){t.exports=JSON.parse('{"active":"Đang hiển thị","add":"Thêm","confirm":"Xác nhận","all":"Tất cả","allProduct":"Tất cả sản phẩm","cancel":"Hủy","category":"Danh mục","categoryManagement":"Quản lý danh mục","categoryType":"Loại","create":"Thêm","delete":"Xóa","deleteSuccess":"Xóa sản phẩm thành công","deleteUnSuccess":"Xóa sản phẩm thất bại","doYouWanToDeleteProductSelected":"Bạn muốn xóa sản phẩm","name":"Tên","orderManagement":"Quản lý đơn hàng","orders":"Đơn hàng","placeholderSelectCategory":"Chọn danh mục","placeholderSelectTopping":"Thêm topping","pressEnterOrClick":"Nhấn Enter hoặc click","pressEnterToRemove":"Nhấn Enter hoặc click để xóa","preview":"Xem trước","previewProduct":"Xem trước sản phẩm","price":"Giá","reason":"Lý do","product":"Sản phẩm","productCreate":"Thêm sản phẩm","productDelete":"Xóa sản phẩm","productManagement":"Quản lý sản phẩm","productUpdate":"Cập nhật sản phẩm","productView":"Xem sản phẩm","selected":"Đã chọn","status":"Trạng thái","topping":"Topping","unActive":"Đã xóa","update":"Cập nhật"}')},"23fa":function(t,e,a){},3:function(t,e){},4:function(t,e){},4366:function(t,e,a){},4678:function(t,e,a){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(t){var e=i(t);return a(e)}function i(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}o.keys=function(){return Object.keys(n)},o.resolve=i,t.exports=o,o.id="4678"},"497a":function(t,e,a){"use strict";var n=a("580f"),o=a.n(n);o.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-lg-8 center",attrs:{id:"app"}},[a("router-view",{attrs:{name:"headerbar"}}),a("main",{attrs:{id:"page-wrap"}},[a("router-view")],1)],1)},i=[],s={sockets:{connect:function(){console.log("socket connected")},customEmit:function(t){console.log('this method was fired by the socket server. eg: io.emit("customEmit", data)')}},created:function(){},methods:{handler:function(t){alert("test"),t.preventDefault(),t.returnValue=""},clickButton:function(t){this.$socket.emit("emit_method",t)}}},r=s,c=(a("5c0b"),a("0c7c")),l=Object(c["a"])(r,o,i,!1,null,null,null),d=l.exports,u=a("9483");Object(u["a"])("".concat("/tkgd-admin/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var p=a("bebc"),h=a.n(p),f=a("7bb1"),m={aria:!0,classes:!0,fieldsBagName:"formFields"};n["default"].use(f["b"],m),f["a"].localize("vi",h.a);var g=a("5f5b"),v=a("ecee"),b=a("c074"),y=a("ad3d");v["c"].add(b["a"]),n["default"].use(g["a"]),n["default"].use(a("2ead")),n["default"].config.productionTip=!1,n["default"].component("font-awesome-icon",y["a"]);var P=a("bc3a"),C=a("b383"),$={install:function(t,e){t.prototype.$api={config:{headers:{"content-type":"application/json","Access-Control-Allow-Origin":"*"},crossDomain:!0,cache:!1},get:function(t){return P.get(t,this.config)},getNoneHeader:function(t){return P.get(t)},post:function(t,e){return P.post(t,e,this.config)},postWithConfigure:function(t,e,a){return P.post(t,e,a)},postWithFromData:function(t,e){return console.log(e),console.log(C.stringify({user:"username",pass:"123"})),P.post(t,C.stringify(e))},delete:function(t){return P.delete(t,this.config)},deleteWithModel:function(t,e){var a=Object.assign({},this.config);return a.data=e,P.delete(t,a)},put:function(t,e){return P.put(t,e,this.config)}}}},j=(a("d3b7"),a("bc3a")),w=a.n(j),k=(a("99af"),"http://localhost:3001"),_={basicUrl:k,socketUrl:"socket/",refeshToken:k+"refresh",login:k+"authenticate",product:{getAll:k+"/products",getById:function(t){return"".concat(k,"/products/").concat(t)},getByName:function(t,e){return"".concat(k,"/products/searchbyname/").concat(t,"/").concat(e)},getByCategoryId:function(t){return"".concat(k,"/products/category/").concat(t)},getRemoved:function(t){return"".concat(k,"/products/removed/").concat(t)},undoRemoved:function(t){return"".concat(k,"/products/undo/").concat(t)},removeById:"".concat(k,"/products/delete"),add:"".concat(k,"/products/add"),edit:"".concat(k,"/products/edit")},topping:{getAll:k+"/topping",add:"".concat(k,"/topping/add"),edit:"".concat(k,"/topping/edit")},category:{getAll:"".concat(k,"/category"),add:"".concat(k,"/category/add"),edit:"".concat(k,"/category/edit")}},x=(a("5319"),a("841c"),a("2f62")),S=a("279c"),I=a.n(S);n["default"].use(x["a"]);var D={namespace:!0,state:{imageData:""},mutations:{updateImageData:function(t,e){t.imageData=e}}},O={namespace:!0,state:{title:"productManagement"},mutations:{updateHeaderTitle:function(t,e){t.title=e}}},T={namespace:!0,state:{search:""},mutations:{updateSearchValue:function(t,e){t.search=e},setValueForSearch:function(t,e){t.search=e}}},N={namespace:!0,state:{isLogin:I.a.compareSync("isLogin",localStorage.getItem("login")?localStorage.getItem("login"):""),user:localStorage.getItem("user")?localStorage.getItem("user"):""},mutations:{updateLogin:function(t,e){t.isLogin=e},updateUser:function(t,e){t.user=e}}},E={namespace:!0,state:{type:{SAVING:"Tiết kiệm",PAYMENT:"Thanh toán"}}},L=new x["a"].Store({modules:{image:D,header:O,login:N,account:E,search:T}}),A=(a("b0c0"),a("4fad"),a("8c4f")),M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("product-management")],1)},F=[],U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"product-management"},[a("loading",{attrs:{active:t.isLoading,"is-full-page":!1},on:{"update:active":function(e){t.isLoading=e}}}),a("div",{staticClass:"row"},[a("div",{staticClass:"add-product-custom flex-end"},[a("i",{staticClass:"fas fa-plus fa-2x add-product",on:{click:t.addProduct}},[t._v(" "+t._s(t.$t("productCreate")))])])]),a("div",{staticClass:"row table-function-style"},[a("search-input",{staticClass:"col-sm-4 remove-padding",attrs:{placeholder:"Tìm kiếm"},on:{searchValue:t.searchByName}}),a("div",{staticClass:"col-sm-4 category-filter flex-end remove-padding"},[a("b-dropdown",{attrs:{variant:"outline-secondary",right:!0}},[a("template",{slot:"button-content"},[a("span",[t._v(t._s(t.status))])]),a("b-dropdown-item",{attrs:{active:t.isActive},on:{click:function(e){return t.changeTable(!0)}}},[t._v(t._s(t.$t("active")))]),a("b-dropdown-item",{attrs:{active:!t.isActive},on:{click:function(e){return t.changeTable(!1)}}},[t._v(t._s(t.$t("unActive")))])],2),a("b-dropdown",{staticStyle:{"margin-left":"1rem"},attrs:{variant:"outline-secondary",right:!0}},[a("template",{slot:"button-content"},[a("span",[t._v(t._s(t.categoryFilter))])]),t._l(t.options,(function(e){return[a("b-dropdown-item",{key:e.id,attrs:{active:t.categoryFilterId===e.id},on:{click:function(a){return t.changeSelect(e)}}},[t._v(t._s(e.value))])]}))],2)],1)],1),a("div",{staticClass:"row"},[a("div",{staticClass:"product-manage-table"},[a("b-table",{attrs:{small:"",fields:t.fields,items:t.data,fixed:!0,responsive:"sm",perPage:t.perPage,"current-page":t.currentPage,bordered:!0},scopedSlots:t._u([{key:"cell(image)",fn:function(t){return[a("figure",[a("img",{staticClass:"card-img-top img-product",attrs:{src:t.value,alt:"Card image cap"}})])]}},{key:"cell(name)",fn:function(e){return[a("a",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],attrs:{href:"#"},on:{click:function(a){return t.editProduct(e.item.id)}}},[t._v(t._s(e.value))]),a("a",{directives:[{name:"show",rawName:"v-show",value:!t.isActive,expression:"!isActive"}],attrs:{href:"#"},on:{click:function(a){return t.viewProduct(e.item.id)}}},[t._v(t._s(e.value))])]}},{key:"cell(identity)",fn:function(e){return[a("span",[t._v(t._s(e.value))])]}},{key:"cell(price)",fn:function(e){return[a("span",[t._v(t._s(t.$helper.formatCurrency(e.value)))])]}},{key:"cell(note)",fn:function(e){return[a("span",[t._v(t._s(e.value))])]}},{key:"cell(action)",fn:function(e){return[a("i",{staticClass:"far fa-edit fa-2x edit-icon animation-hover",on:{click:function(a){return t.editProduct(e.item.id)}}}),a("i",{staticClass:"far fa-trash-alt delete-icon fa-2x animation-hover",on:{click:function(a){return t.showDeletePopup(e.item)}}})]}},{key:"cell(undo)",fn:function(e){return[a("i",{staticClass:"fas fa-undo fa-2x undo-icon animation-hover",on:{click:function(a){return t.showUndoPopup(e.item)}}})]}}])})],1)]),a("div",{staticClass:"row pagination-custom"},[a("div",{staticClass:"mt-3"},[a("b-pagination",{attrs:{pills:"","total-rows":t.rows,align:"fill","per-page":t.perPage,size:"md"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)]),a("product-popup",{attrs:{idPopup:t.idProductPopup,isEdit:t.isEdit,productId:t.productId},on:{doneUpdate:t.reloadData}}),a("product-view-popup",{attrs:{idPopup:t.idProductViewPopup,productId:t.productId}}),a("product-delete",{attrs:{id:t.productId,idPopup:t.idProductPopupDelete,name:t.productName},on:{remove:t.deleteProduct}},[a("label",{staticStyle:{color:"#ef3a3a"}},[t._v(" "+t._s(t.$t("doYouWanToDeleteProductSelected"))+" "),a("br"),t._v(" "+t._s('"'+this.productName+'"?')+" ")])]),a("undo-confirm",{attrs:{id:t.productId,idPopup:t.idProductPopupUndo,name:t.productName},on:{undo:t.undoProduct}},[a("label",[t._v(" Bạn có muốn đưa sản phẩm "),a("br"),t._v(t._s('"'+this.productName+'"')),a("br"),t._v(" về danh sách hiển thị? ")])])],1)},B=[],q=(a("d81d"),a("fb6a"),a("e25e"),{methods:{fetchCategories:function(){var t=this.$Jquery.Deferred();return this.$api.get(_.category.getAll).then((function(e){t.resolve(e)}),(function(e){t.reject(e)})),t}}}),V={methods:{fetchProducts:function(){var t=this.$Jquery.Deferred();return this.$api.get(_.product.getAll).then((function(e){t.resolve(e)}),(function(e){t.reject(e)})),t},fetchProductById:function(t){var e=this.$Jquery.Deferred();return t||e.resolve("Value not valid"),this.$api.get(_.product.getById(t)).then((function(t){e.resolve(t)}),(function(t){e.reject(t)})),e},fetchProductByCategoryId:function(t){var e=this.$Jquery.Deferred();return t||e.resolve("Value not valid"),this.$api.get(_.product.getByCategoryId(t)).then((function(t){e.resolve(t)}),(function(t){e.reject(t),console.log(t)})),e},addProduct:function(t){var e=this.$Jquery.Deferred(),a={headers:{accept:"application/json","Accept-Language":"en-US,en;q=0.8","Content-Type":"multipart/form-data; boundary=".concat(t._boundary)}};return this.$api.postWithConfigure(_.product.add,t,a).then((function(t){e.resolve(t)}),(function(t){e.reject(t)})),e},removeProduct:function(t){var e=this.$Jquery.Deferred();return this.$api.post(_.product.removeById,t).then((function(t){e.resolve(t)}),(function(t){e.reject(t)})),e},editProduct:function(t){var e=this.$Jquery.Deferred(),a={headers:{accept:"application/json","Accept-Language":"en-US,en;q=0.8","Content-Type":"multipart/form-data; boundary=".concat(t._boundary)}};return this.$api.postWithConfigure(_.product.edit,t,a).then((function(t){e.resolve(t)}),(function(t){e.reject(t)})),e},fetchProductsByName:function(t,e){var a=this.$Jquery.Deferred();return this.$api.get(_.product.getByName(t,e)).then((function(t){a.resolve(t)}),(function(t){a.reject(t)})),a},fetchProductsRemoved:function(t){var e=this.$Jquery.Deferred();return this.$api.get(_.product.getRemoved(t)).then((function(t){e.resolve(t)}),(function(t){e.reject(t)})),e},undoRemovedProduct:function(t){var e=this.$Jquery.Deferred();return this.$api.get(_.product.undoRemoved(t)).then((function(t){e.resolve(t)}),(function(t){e.reject(t)})),e}}},z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{ref:"modal-otp",attrs:{"hide-footer":"",title:t.title,id:t.idPopup,size:"medium"}},[a("loading",{attrs:{active:t.isLoading,"is-full-page":!0},on:{"update:active":function(e){t.isLoading=e}}}),a("div",{staticClass:"flex recipient-popup"},[a("div",{staticClass:"col-sm-5"},[a("image-select",{attrs:{image:t.selectImage},on:{loadImage:t.loadImage}})],1),a("div",{staticClass:"col-sm-7"},[a("form",[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"name"}},[t._v(t._s(t.$t("name")))]),a("div",{staticClass:"col-sm-10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.productName,expression:"productName"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:t.productName},on:{input:function(e){e.target.composing||(t.productName=e.target.value)}}})])]),a("form-field-error",{attrs:{"validation-errors":t.errors,field:"name"}}),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"topping"}},[t._v(t._s(t.$t("topping")))]),a("div",{staticClass:"col-sm-10"},[a("multiselect",{attrs:{options:t.toppingOptions,multiple:!0,label:"name","track-by":"id",selectLabel:t.$t("pressEnterOrClick"),deselectLabel:t.$t("pressEnterToRemove"),placeholder:t.$t("placeholderSelectTopping"),selectedLabel:t.$t("selected")},on:{select:t.changeSelect},model:{value:t.selectedTopping,callback:function(e){t.selectedTopping=e},expression:"selectedTopping"}})],1)]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"price"}},[t._v(t._s(t.$t("price")))]),a("div",{staticClass:"col-sm-10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"mask",rawName:"v-mask",value:{alias:"numeric",groupSeparator:t.currency.groupSeparator,autoGroup:!0,digits:2,digitsOptional:!1,suffix:t.currency.suffix,placeholder:"0"},expression:"{\n                    alias: 'numeric',\n                    groupSeparator: currency.groupSeparator,\n                    autoGroup: true,\n                    digits: 2,\n                    digitsOptional: false,\n                    suffix: currency.suffix,\n                    placeholder: '0'\n                  }"}],staticClass:"form-control text-left",attrs:{type:"text",id:"amount",name:"amount"},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"categoryType"}},[t._v(t._s(t.$t("categoryType")))]),a("div",{staticClass:"col-sm-10"},[a("multiselect",{attrs:{options:t.categoryOptions,label:"value","track-by":"id",selectLabel:t.$t("pressEnterOrClick"),deselectLabel:t.$t("pressEnterToRemove"),placeholder:t.$t("placeholderSelectCategory"),selectedLabel:t.$t("selected")},on:{select:t.changeSelect},model:{value:t.selectedCategory,callback:function(e){t.selectedCategory=e},expression:"selectedCategory"}})],1)])],1)])]),a("div",{staticClass:"flex popup-footer"},[a("div",{staticClass:"flex-end"},[a("b-button",{staticClass:"mt-3",attrs:{variant:""},on:{click:t.hide}},[t._v(t._s(t.$t("cancel")))]),a("b-button",{staticClass:"mt-3",attrs:{variant:"success"},on:{click:t.confirm}},[t._v(t._s(t.action))])],1)])],1)],1)},R=[],W=(a("7db0"),a("a9e3"),a("25f0"),a("159b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"helper"}),a("div",{staticClass:"drop display-inline align-center image-select",on:{dragover:function(t){t.preventDefault()},drop:t.onDrop}},[a("div",{staticClass:"helper"}),t.selectImage?a("div",{staticClass:"hidden display-inline align-center",class:{image:!0}},[a("img",{staticClass:"img",attrs:{src:t.selectImage,alt:"",ti:""},on:{click:t.removeFile}}),a("br")]):a("label",{staticClass:"btn display-inline"},[t._v(" SELECT OR DROP AN IMAGE "),a("input",{attrs:{type:"file",name:"image"},on:{change:t.onChange}})])])])}),Y=[],J=(a("466d"),{data:function(){return{selectImage:""}},props:{image:{type:String},isNotChange:{type:Boolean}},created:function(){console.log(this.image),this.$set(this,"selectImage",this.image)},methods:{onDrop:function(t){if(!this.isNotChange){t.stopPropagation(),t.preventDefault();var e=t.dataTransfer.files,a=e[0];this.$emit("loadImage",a),this.createFile(e[0])}},onChange:function(t){if(!this.isNotChange){var e=t.target.files,a=e[0];this.$emit("loadImage",a),this.createFile(e[0])}},createFile:function(t){if(t.type.match("image.*")){new Image;var e=new FileReader,a=this;e.onload=function(t){a.selectImage=t.target.result},e.readAsDataURL(t)}else alert("Select an image")},removeFile:function(){this.isNotChange||(this.selectImage="",this.$emit("loadImage",null))}},watch:{image:function(t,e){console.log("change "+t),this.$set(this,"selectImage",t)}}}),G=J,H=(a("1efd"),Object(c["a"])(G,W,Y,!1,null,null,null)),X=H.exports,Z={methods:{fetchToppings:function(){var t=this.$Jquery.Deferred();return this.$api.get(_.topping.getAll).then((function(e){t.resolve(e)}),(function(e){t.reject(e)})),t}}},Q={role:{ad:"admin",employee:"staff"},formatDate:"MM/DD/YYYY",formatDateTime:"MM/DD/YYYY hh:mm A",formatTimeZoneLocal:"YYYY-MM-DDTHH:mm:ss.000Z",method:{payment:"PAYMENT",deposit:"DEPOSIT",transfers:"TRANSFER",withdraw:"WITHDRAW"},feeType:{receiver:"RECEIVER",sender:"SENDER"},currency:{suffix:" ₫",groupSeparator:","}},K=a("8e5f"),tt=a.n(K),et=a("5a30"),at=a.n(et),nt={mixins:[Z,V,q],components:{ImageSelect:X,Multiselect:tt.a},props:{idPopup:{type:String,required:!0},isEdit:{type:Boolean,required:!0},productId:{type:Number,required:!0}},data:function(){return{isOutside:!1,isLoading:!1,isSearch:!0,selectImage:"",imageData:"",currency:Q.currency,selectedTopping:null,selectedCategory:null,productName:"",price:null,toppingOptions:[],categoryOptions:[],productInfo:{id:"",price:"",topping:[],name:"",category:{},image:""},productBlankInfo:{id:"",price:"",topping:[],name:"",category:{},image:""}}},created:function(){this.getCategory(),this.getTopping()},methods:{clearForm:function(){this.price=0,this.selectedTopping=[],this.selectedCategory={},this.productName="",this.selectImage="",this.$store.commit("updateImageData","")},loadImage:function(t){console.log(t),this.$set(this,"imageData",t)},changeSelect:function(t){console.log(t),console.log(this.productInfo)},confirm:function(){this.hide(),this.isEdit?this.updateProduct():this.createProduct()},hide:function(){this.$bvModal.hide(this.idPopup)},parseData:function(){var t=this.selectedTopping.map((function(t){return t.id})),e=new at.a;return e.append("id",this.productId),e.append("file",this.imageData),e.append("category",this.selectedCategory.id),e.append("topping",t),e.append("name",this.productName),e.append("price",this.$helper.parseCurrency(this.price)),e},updateProduct:function(){var t=this;this.isLoading=!0,this.editProduct(this.parseData()).then((function(e){t.isLoading=!1,t.clearForm(),t.$emit("doneUpdate")}),(function(e){t.$helper.notification.error(t,e)}))},createProduct:function(){var t=this;this.isLoading=!0,this.addProduct(this.parseData()).then((function(e){t.isLoading=!1,t.clearForm(),t.$emit("doneUpdate")}),(function(e){t.$helper.notification.error(t,e)}))},getCategory:function(){var t=this;this.fetchCategories().then((function(e){t.$set(t,"categoryOptions",e.data)}),(function(e){t.$set(t,"categoryOptions",[])}))},getTopping:function(){var t=this;console.log("get toppng"),this.fetchToppings().then((function(e){var a=Object.assign([],e.data);a=a.map((function(t){var e={};return e.name="".concat(t.value," + ").concat(t.price.toString().replace("000","k")),e.id=t.id,e})),console.log(a),t.$set(t,"toppingOptions",a)}),(function(e){t.$set(t,"toppingOptions",[])}))},getProduct:function(t){var e=this;t?(console.log(t),this.fetchProductById(t).then((function(t){console.log(t.data);var a=t.data,n=[],o=a.toppings;console.log(o),o.length>0&&o.forEach((function(t){n.push(e.toppingOptions.find((function(e){return e.id===t})))})),e.price=a.price,e.selectedTopping=n,e.selectedCategory=e.categoryOptions.find((function(t){return t.id===a.category})),e.productName=a.name,e.selectImage="".concat(_.basicUrl,"/").concat(a.image),e.$set(e,"selectImage","".concat(_.basicUrl,"/").concat(a.image)),e.$store.commit("updateImageData","".concat(_.basicUrl,"/").concat(a.image))}))):this.clearForm()}},computed:{title:function(){return this.isEdit?this.$t("productUpdate"):this.$t("productCreate")},action:function(){return this.isEdit?this.$t("update"):this.$t("create")}},watch:{productId:function(t,e){console.log(t),this.getProduct(t)}}},ot=nt,it=(a("60bc"),a("56fd"),Object(c["a"])(ot,z,R,!1,null,null,null)),st=it.exports,rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{ref:"modal-otp",attrs:{"hide-footer":"",title:t.title,id:t.idPopup,size:"medium"}},[a("loading",{attrs:{active:t.isLoading,"is-full-page":!0},on:{"update:active":function(e){t.isLoading=e}}}),a("div",{staticClass:"flex recipient-popup"},[a("div",{staticClass:"col-sm-5"},[a("image-select",{attrs:{image:t.selectImage,isNotChange:!0},on:{loadImage:t.loadImage}})],1),a("div",{staticClass:"col-sm-7"},[a("form",[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"name"}},[t._v(t._s(t.$t("name")))]),a("div",{staticClass:"col-sm-10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.productName,expression:"productName"}],staticClass:"form-control",attrs:{type:"text",id:"name",disabled:""},domProps:{value:t.productName},on:{input:function(e){e.target.composing||(t.productName=e.target.value)}}})])]),a("form-field-error",{attrs:{"validation-errors":t.errors,field:"name"}}),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"topping"}},[t._v(t._s(t.$t("topping")))]),a("div",{staticClass:"col-sm-10"},[a("multiselect",{attrs:{options:t.toppingOptions,multiple:!0,label:"name","track-by":"id",disabled:"",selectLabel:t.$t("pressEnterOrClick"),deselectLabel:t.$t("pressEnterToRemove"),placeholder:t.$t("placeholderSelectTopping"),selectedLabel:t.$t("selected")},on:{select:t.changeSelect},model:{value:t.selectedTopping,callback:function(e){t.selectedTopping=e},expression:"selectedTopping"}})],1)]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"price"}},[t._v(t._s(t.$t("price")))]),a("div",{staticClass:"col-sm-10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"mask",rawName:"v-mask",value:{alias:"numeric",groupSeparator:t.currency.groupSeparator,autoGroup:!0,digits:2,digitsOptional:!1,suffix:t.currency.suffix,placeholder:"0"},expression:"{\n                    alias: 'numeric',\n                    groupSeparator: currency.groupSeparator,\n                    autoGroup: true,\n                    digits: 2,\n                    digitsOptional: false,\n                    suffix: currency.suffix,\n                    placeholder: '0'\n                  }"}],staticClass:"form-control text-left",attrs:{type:"text",id:"amount",name:"amount",disabled:""},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=e.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"categoryType"}},[t._v(t._s(t.$t("categoryType")))]),a("div",{staticClass:"col-sm-10"},[a("multiselect",{attrs:{options:t.categoryOptions,label:"value","track-by":"id",disabled:"",selectLabel:t.$t("pressEnterOrClick"),deselectLabel:t.$t("pressEnterToRemove"),placeholder:t.$t("placeholderSelectCategory"),selectedLabel:t.$t("selected")},on:{select:t.changeSelect},model:{value:t.selectedCategory,callback:function(e){t.selectedCategory=e},expression:"selectedCategory"}})],1)])],1)])]),a("div",{staticClass:"flex popup-footer"},[a("div",{staticClass:"flex-end"},[a("b-button",{staticClass:"mt-3",attrs:{variant:""},on:{click:t.hide}},[t._v(t._s(t.$t("cancel")))])],1)])],1)],1)},ct=[],lt={mixins:[Z,V,q],components:{ImageSelect:X,Multiselect:tt.a},props:{idPopup:{type:String,required:!0},productId:{type:Number,required:!0}},data:function(){return{isOutside:!1,isLoading:!1,isSearch:!0,selectImage:"",imageData:"",currency:Q.currency,selectedTopping:null,selectedCategory:null,productName:"",price:null,toppingOptions:[],categoryOptions:[],productInfo:{id:"",price:"",topping:[],name:"",category:{},image:""},productBlankInfo:{id:"",price:"",topping:[],name:"",category:{},image:""}}},created:function(){this.getCategory(),this.getTopping()},methods:{clearForm:function(){this.price=0,this.selectedTopping=[],this.selectedCategory={},this.productName="",this.selectImage="",this.$store.commit("updateImageData","")},loadImage:function(t){console.log(t),this.$set(this,"imageData",t)},changeSelect:function(t){console.log(t),console.log(this.productInfo)},confirm:function(){this.hide(),this.isEdit?this.updateProduct():this.createProduct()},hide:function(){this.$bvModal.hide(this.idPopup)},getCategory:function(){var t=this;this.fetchCategories().then((function(e){t.$set(t,"categoryOptions",e.data)}),(function(e){t.$set(t,"categoryOptions",[])}))},getTopping:function(){var t=this;console.log("get toppng"),this.fetchToppings().then((function(e){var a=Object.assign([],e.data);a=a.map((function(t){var e={};return e.name="".concat(t.value," + ").concat(t.price.toString().replace("000","k")),e.id=t.id,e})),console.log(a),t.$set(t,"toppingOptions",a)}),(function(e){t.$set(t,"toppingOptions",[])}))},getProduct:function(t){var e=this;t?(console.log(t),this.fetchProductById(t).then((function(t){console.log(t.data);var a=t.data,n=[],o=a.toppings;console.log(o),o.length>0&&o.forEach((function(t){n.push(e.toppingOptions.find((function(e){return e.id===t})))})),e.price=a.price,e.selectedTopping=n,e.selectedCategory=e.categoryOptions.find((function(t){return t.id===a.category})),e.productName=a.name,e.selectImage="".concat(_.basicUrl,"/").concat(a.image),e.$set(e,"selectImage","".concat(_.basicUrl,"/").concat(a.image)),e.$store.commit("updateImageData","".concat(_.basicUrl,"/").concat(a.image))}))):this.clearForm()}},computed:{title:function(){return this.$t("productView")},action:function(){return this.isEdit?this.$t("update"):this.$t("create")}},watch:{productId:function(t,e){console.log(t),this.getProduct(t)}}},dt=lt,ut=(a("a3c3"),Object(c["a"])(dt,rt,ct,!1,null,null,null)),pt=ut.exports,ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{ref:"modalConfirm",attrs:{"hide-footer":"",title:t.$t("productDelete"),id:t.idPopup}},[a("div",{staticClass:"d-block text-center message-delete"},[t._t("default")],2),a("div",{staticClass:"form-group"},[a("b-textarea",{attrs:{type:"text",placeholder:t.$t("reason")},model:{value:t.context,callback:function(e){t.context=e},expression:"context"}})],1),a("div",{staticClass:"flex popup-footer"},[a("div",{staticClass:"flex-end"},[a("b-button",{staticClass:"mt-3",attrs:{variant:"danger"},on:{click:t.confirm}},[t._v(t._s(t.$t("delete")))]),a("b-button",{staticClass:"mt-3",attrs:{variant:""},on:{click:t.hide}},[t._v(t._s(t.$t("cancel")))])],1)])])},ft=[],mt={data:function(){return{context:""}},props:{id:{type:Number,required:!0},name:{type:String,required:!0},idPopup:{type:String,required:!0}},methods:{confirm:function(){this.$emit("remove",{id:this.id,name:this.name,reason:this.context}),this.hide()},hide:function(){this.$bvModal.hide(this.idPopup)}},created:function(){this.context=""}},gt=mt,vt=(a("d393"),Object(c["a"])(gt,ht,ft,!1,null,null,null)),bt=vt.exports,yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{ref:"modalConfirm",attrs:{"hide-footer":"",title:t.$t("confirm"),id:t.idPopup}},[a("div",{staticClass:"d-block text-center message-delete"},[t._t("default")],2),a("div",{staticClass:"flex popup-footer"},[a("div",{staticClass:"flex-end"},[a("b-button",{staticClass:"mt-3",attrs:{variant:"success"},on:{click:t.confirm}},[t._v(t._s(t.$t("confirm")))]),a("b-button",{staticClass:"mt-3",attrs:{variant:""},on:{click:t.hide}},[t._v(t._s(t.$t("cancel")))])],1)])])},Pt=[],Ct={props:{id:{type:Number,required:!0},name:{type:String,required:!0},idPopup:{type:String,required:!0}},data:function(){return{context:""}},methods:{confirm:function(){this.$emit("undo",{id:this.id,name:this.name}),this.hide()},hide:function(){this.$bvModal.hide(this.idPopup)}},created:function(){this.context=""}},$t=Ct,jt=(a("a28f"),Object(c["a"])($t,yt,Pt,!1,null,null,null)),wt=jt.exports,kt={components:{ProductPopup:st,ProductDelete:bt,ProductViewPopup:pt,UndoConfirm:wt},mixins:[V,q],data:function(){return{currentPage:1,isLoading:!1,categoryFilterId:0,productName:"",categoryFilter:this.$t("all"),isActive:!0,status:this.$t("active"),categor:this.$t("active"),fields:this.$table.fields.product,perPage:5,selected:null,idProductPopup:"product-popup-add-edit",idProductPopupDelete:"product-popup-delete",idProductPopupUndo:"product-popup-undo",idProductViewPopup:"product--view-popup",users:[],originalUsers:[],isEdit:!1,productId:-1,data:[],options:[],rows:0}},created:function(){window.addEventListener("scroll",this.handleScroll),this.getAllCategory(),this.getAllProduct(),this.$store.commit("updateHeaderTitle","productManagement")},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)},computed:{},methods:{fetchByName:function(t){var e=this;this.fetchProductsByName(t,this.isActive).then((function(t){e.updateValueWhenFetchData(t.data)}),(function(t){e.isLoading=!1}))},searchByName:function(t){this.$helper.callOneTimes(this.fetchByName,500,t)},changeTable:function(t){t?(this.fields=this.$table.fields.product,this.status=this.$t("active")):(this.fields=this.$table.fields.productRemoved,this.status=this.$t("unActive")),this.isActive=t,this.fetchDataWithStatus()},changeSelect:function(t){this.categoryFilterId=t.id,this.categoryFilter=t.value,this.fetchDataWithStatus()},fetchDataWithStatus:function(){var t=this;this.isActive?0===this.categoryFilterId?this.getAllProduct():this.getProductByCategory(this.categoryFilterId):this.fetchProductsRemoved(this.categoryFilterId).then((function(e){t.updateValueWhenFetchData(e.data)}))},removeSelect:function(){this.getAllProduct()},getAllCategory:function(){var t=this;this.fetchCategories().then((function(e){console.log(e);var a=[{id:0,value:"Tất cả"}];a=a.concat(e.data),t.$set(t,"options",a)}))},getAllProduct:function(){var t=this;this.fetchProducts().then((function(e){t.categoryFilterId=0,t.updateValueWhenFetchData(e.data)}),(function(e){t.isLoading=!1}))},getProductByCategory:function(t){var e=this;this.fetchProductByCategoryId(t).then((function(t){e.updateValueWhenFetchData(t.data)}))},updateValueWhenFetchData:function(t){var e=this.convertData(t);this.$set(this,"data",e),this.$set(this,"rows",e.length)},convertData:function(t){var e=0,a=t.map((function(t){var a=Object.assign({},t);return++e,a.identity=e,a.id=parseInt(a.id),a.price=parseInt(a.price),a.image="".concat(_.basicUrl,"/").concat(a.image),a}));return a},loadDataWithPage:function(){var t=Object.assign([],this.data),e=1===this.currentPage?0:(this.currentPage-1)*this.perPage,a=this.currentPage*this.perPage>this.data?this.data:this.currentPage*this.perPage,n={from:e,to:a,currentt:this.currentPage,perPage:this.perPage};console.log(n),this.displayData=t.slice(4,6)},showDeletePopup:function(t){console.log("delete"),console.log(t),this.$set(this,"productId",parseInt(t.id)),this.$set(this,"productName",t.name),this.$bvModal.show(this.idProductPopupDelete)},showUndoPopup:function(t){this.$set(this,"productId",parseInt(t.id)),this.$set(this,"productName",t.name),this.$bvModal.show(this.idProductPopupUndo)},deleteProduct:function(t){var e=this;console.log(t.id),this.removeProduct(t).then((function(t){e.$helper.toast.success(e,e.$t("deleteSuccess")),e.$bvModal.hide(e.idProductPopupDelete),e.reloadData()}),(function(t){e.$helper.toast.error(e,e.$t("deleteUnSuccess"))}))},editProduct:function(t){this.$set(this,"isEdit",!0),console.log(t),this.$set(this,"productId",parseInt(t)),this.$bvModal.show(this.idProductPopup)},undoProduct:function(t){var e=this;console.log(t.id),this.undoRemovedProduct(t.id).then((function(t){e.$helper.toast.success(e,e.$t("deleteSuccess")),e.$bvModal.hide(e.idProductPopupDelete),e.fetchDataWithStatus()}),(function(t){e.$helper.toast.error(e,e.$t("deleteUnSuccess"))}))},viewProduct:function(t){console.log(t),this.$set(this,"productId",parseInt(t)),this.$bvModal.show(this.idProductViewPopup)},handleScroll:function(){},reloadData:function(){this.getAllProduct(),this.currentPage=1,this.productId=0},addProduct:function(){this.$set(this,"productId",0),this.$set(this,"isEdit",!1),this.$bvModal.show(this.idProductPopup)}},watch:{}},_t=kt,xt=(a("0422"),Object(c["a"])(_t,U,B,!1,null,null,null)),St=xt.exports,It={name:"Home",components:{ProductManagement:St}},Dt=It,Ot=Object(c["a"])(Dt,M,F,!1,null,null,null),Tt=Ot.exports,Nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Slide",{attrs:{left:"",isOpen:"",noOverlay:"",disableEsc:"",disableOutsideClick:"",burgerIcon:!1,crossIcon:!1}},[a("b-link",{staticClass:"navbar-brand flex-start brand-name",attrs:{to:{name:"home"}}},[t._v(t._s(t.brandName))]),t._l(t.menu,(function(e){return[a("b-link",{key:e.id,class:e.class,attrs:{to:e.navigate,title:e.title,active:t.currentLink==e.id},on:{click:function(a){return t.switchLink(e.id)}}},[t._v(t._s(e.display))])]}))],2),a("nav",{staticClass:"navbar navbar-light bg-light flex saving-users"},[a("div",{staticClass:"col-sm-6 title-management"},[a("h2",{staticClass:"flex"},[t._v(t._s(t.$t(t.title)))])])]),a("hr",{staticClass:"nav-line-under"})],1)},Et=[],Lt=a("db0f"),At={components:{Slide:Lt["Slide"]},data:function(){return{showProfile:!1,brandName:"TheCoffee",currentLink:1,menu:[{id:1,class:"",navigate:{name:"productManagement"},title:this.$t("productManagement"),display:this.$t("product")},{id:2,class:"",navigate:{name:"orderManagement"},title:this.$t("orderManagement"),display:this.$t("orders")},{id:3,class:"",navigate:{name:"categoryManagement"},title:this.$t("categoryManagement"),display:this.$t("category")},{id:4,class:"",navigate:{name:"preview"},title:this.$t("preview"),display:this.$t("preview")}]}},created:function(){console.log("reload")},computed:{isLogin:function(){return this.$store.state.login.isLogin},userName:function(){var t=atob(this.$store.state.login.user),e=t||"";return e},title:function(){return this.$store.state.header.title}},methods:{searchAction:function(t){console.log(t),this.$store.commit("updateSearchValue",t)},signOut:function(){ee.signOutUser()},switchLink:function(t){this.currentLink=t}}},Mt=At,Ft=(a("5725"),Object(c["a"])(Mt,Nt,Et,!1,null,null,null)),Ut=Ft.exports,Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"product-management"},[a("loading",{attrs:{active:t.isLoading,"is-full-page":!1},on:{"update:active":function(e){t.isLoading=e}}}),a("div",{staticClass:"row",staticStyle:{"margin-top":"5rem"}},[a("div",{staticClass:"nav-product row col-sm-12 flex remove-padding margin-auto"},[a("search-input",{staticClass:"col-sm-4 remove-padding",attrs:{placeholder:"Tìm kiếm"},on:{searchValue:t.searchByName}}),a("b-dropdown",{staticClass:"flex-end",attrs:{variant:"outline-secondary",right:!0}},[a("template",{slot:"button-content"},[a("span",[t._v(t._s(t.categoryFilter))])]),t._l(t.options,(function(e){return[a("b-dropdown-item",{key:e.id,attrs:{active:t.categoryFilterId===e.id},on:{click:function(a){return t.changeSelect(e)}}},[t._v(t._s(e.value))])]}))],2),a("div",{staticClass:"lst-product"},[t._l(t.displayData,(function(e){return[a("product",{key:e.id,attrs:{name:e.name,price:e.price,id:e.id,image:e.image},on:{updateProduct:function(a){return t.editProduct(e.id)},deleteProduct:function(a){return t.showDeletePopup(e)}}})]}))],2)],1)]),a("div",{staticClass:"row pagination-custom"},[a("div",{staticClass:"mt-3"},[a("b-pagination",{attrs:{pills:"","total-rows":t.rows,"per-page":t.perPage,size:"md"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)]),a("product-popup",{attrs:{idPopup:t.idProductPopup,isEdit:t.isEdit,productId:t.productId},on:{doneUpdate:t.reloadData}}),a("product-delete",{attrs:{id:t.productId,idPopup:t.idProductPopupDelete,name:t.productName},on:{remove:t.deleteProduct}},[a("label",{staticStyle:{color:"#ef3a3a"}},[t._v(" "+t._s(t.$t("doYouWanToDeleteProductSelected"))+" "),a("br"),t._v(" "+t._s('"'+this.productName+'"?')+" ")])])],1)},qt=[],Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("figure",[a("img",{staticClass:"card-img-top img-product",attrs:{src:t.image,alt:"Card image cap"}})]),a("i",{staticClass:"fas fa-minus-circle fa-2x delete-icon animation-hover",on:{click:t.showDeletePopup}})]),a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-name text-left",staticStyle:{height:"48px"}},[t._v(t._s(t.name))]),a("div",{staticClass:"mt-2 flex"},[a("p",{staticClass:"card-text product-info flex-start"},[t._v(t._s(t.$helper.formatCurrency(t.price)))]),a("i",{staticClass:"far fa-edit fa-2x edit-icon animation-hover",on:{click:t.editProduct}})])])])},zt=[],Rt={data:function(){return{product:null}},props:{price:{requied:!1,type:Number},name:{requied:!1,type:String},id:{requied:!0,type:Number},image:{requied:!0,type:String}},methods:{editProduct:function(){this.$set(this,"product",{id:this.id}),this.$emit("updateProduct",this.product)},showDeletePopup:function(){this.$set(this,"product",{id:this.id}),this.$emit("deleteProduct",this.product)}},computed:{cardType:function(){return console.log(this.type),this.$store.state.account.type[this.type]}}},Wt=Rt,Yt=(a("bee0"),Object(c["a"])(Wt,Vt,zt,!1,null,null,null)),Jt=Yt.exports,Gt={components:{Product:Jt,ProductPopup:st,ProductDelete:bt,Multiselect:tt.a},mixins:[V,q],data:function(){return{categoryFilterId:0,categoryFilter:this.$t("all"),currentPage:1,isLoading:!1,rows:100,productName:"",perPage:8,selected:null,idProductPopup:"product-popup-add-edit",idProductPopupDelete:"product-popup-delete",users:[],originalUsers:[],isEdit:!1,productId:-1,data:[],options:[]}},created:function(){window.addEventListener("scroll",this.handleScroll),this.$store.commit("updateHeaderTitle","previewProduct"),this.getAllCategory(),this.getAllProduct()},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)},computed:{displayData:function(){var t=Object.assign([],this.data),e=1===this.currentPage?0:(this.currentPage-1)*this.perPage,a=this.currentPage*this.perPage>this.data?this.data:this.currentPage*this.perPage,n={from:e,to:a,currentt:this.currentPage,perPage:this.perPage};return console.log(n),t.slice(e,a)},search:function(){return this.$store.state.search.search}},methods:{fetchByName:function(t){var e=this;this.fetchProductsByName(t,!0).then((function(t){e.updateValueWhenFetchData(t.data)}),(function(t){e.isLoading=!1}))},searchByName:function(t){this.$helper.callOneTimes(this.fetchByName,500,t)},changeSelect:function(t){var e=this;this.categoryFilterId=t.id,this.categoryFilter=t.value,0===t.id?this.getAllProduct():this.fetchProductByCategoryId(t.id).then((function(t){e.updateValueWhenFetchData(t.data)}))},removeSelect:function(){this.getAllProduct()},getAllCategory:function(){var t=this;this.fetchCategories().then((function(e){var a=[{id:0,value:"Tất cả"}];a=a.concat(e.data),t.$set(t,"options",a)}))},getAllProduct:function(){var t=this;this.fetchProducts().then((function(e){t.updateValueWhenFetchData(e.data)}),(function(e){t.isLoading=!1}))},updateValueWhenFetchData:function(t){var e=this.convertData(t);this.$set(this,"data",e),this.$set(this,"rows",e.length)},convertData:function(t){var e=t.map((function(t){var e=Object.assign({},t);return e.id=parseInt(e.id),e.price=parseInt(e.price),e.image="".concat(_.basicUrl,"/").concat(e.image),e}));return e},loadDataWithPage:function(){var t=Object.assign([],this.data),e=1===this.currentPage?0:(this.currentPage-1)*this.perPage,a=this.currentPage*this.perPage>this.data?this.data:this.currentPage*this.perPage,n={from:e,to:a,currentt:this.currentPage,perPage:this.perPage};console.log(n),this.displayData=t.slice(4,6)},showDeletePopup:function(t){console.log("delete"),console.log(t),this.$set(this,"productId",parseInt(t.id)),this.$set(this,"productName",t.name),this.$bvModal.show(this.idProductPopupDelete)},deleteProduct:function(t){var e=this;console.log(t.id),this.removeProduct(t.id).then((function(t){e.$helper.toast.success(e,e.$t("deleteSuccess")),e.$bvModal.hide(e.idProductPopupDelete),e.reloadData()}),(function(t){e.$helper.toast.error(e,e.$t("deleteUnSuccess"))}))},editProduct:function(t){this.$set(this,"isEdit",!0),console.log(t),this.$set(this,"productId",parseInt(t)),this.$bvModal.show(this.idProductPopup)},handleScroll:function(){},reloadData:function(){this.getAllProduct(),this.currentPage=1,this.productId=0},addProduct:function(){this.$set(this,"productId",0),this.$set(this,"isEdit",!1),this.$bvModal.show(this.idProductPopup)}},watch:{search:function(t,e){""===t?this.$helper.callOneTimes(this.reloadData,1e3):this.$helper.callOneTimes(this.searchByName,1e3,t)}}},Ht=Gt,Xt=(a("497a"),Object(c["a"])(Ht,Bt,qt,!1,null,null,null)),Zt=Xt.exports;n["default"].use(A["a"]);var Qt=[{path:"/",name:"home",components:{headerbar:Ut,default:Tt}},{path:"/xem-truoc",name:"preview",components:{headerbar:Ut,default:Zt}},{path:"/quan-ly-san-pham",name:"productManagement",components:{headerbar:Ut,default:St}},{path:"/about",name:"about",component:function(){return a.e("about").then(a.bind(null,"f820"))}},{path:"/headerbar",name:"headerbar",component:Ut}],Kt=new A["a"]({mode:"history",base:"/tkgd-admin/",routes:Qt});Kt.beforeEach((function(t,e,a){var n=t.meta,o=L.state.login.isLogin;return 0===Object.entries(n).length||n.constructor!==Object||o?o&&"login"===t.name?a({name:"home"}):void a():a({name:"login"})}));var te=Kt,ee={signInUser:function(t){var e=this.hashUser(t.data.userInfo);localStorage.setItem("token",t.data.token),localStorage.setItem("login",this.hashLogin()),localStorage.setItem("user",e),L.commit("updateLogin",!0),L.commit("updateUser",e),te.replace({name:"home"})},signOutUser:function(){window.localStorage.clear(),L.commit("updateLogin",!1),L.commit("updateUser",""),te.replace({name:"home"})},updateToken:function(t){localStorage.setItem("token",t.data.token)},hashLogin:function(){var t=I.a.genSaltSync(10),e=I.a.hashSync("isLogin",t);return e},hashUser:function(t){var e=t.username,a=btoa(e);return a}},ae=function(){w.a.interceptors.response.use((function(t){return t}),(function(t){var e=localStorage.getItem("token");return 401===t.response.status&&e&&(console.log("unauthorized, logging out ..."),w.a.get(_.refeshToken,{headers:{Authorization:"Bearer "+e}}).then((function(e){return console.log(e),200===e.status?(ee.updateToken(e),location.reload(),Promise.resolve(e)):Promise.reject(t)}),(function(e){return ee.signOutUser(),Promise.reject(t)}))),Promise.reject(t)}))},ne=(a("a15b"),a("4e82"),a("1276"),a("c1df")),oe=a.n(ne),ie={install:function(t,e){t.prototype.$helper={sortAsc:function(t,e){var a=Object.assign([],t);if(a&&Array.isArray(a))return a.sort((function(t,a){return t[e]>a[e]}))},createDate:function(){return oe()(new Date).utc()},toast:{success:function(t,e,a){t.$bvToast.toast(e,{toaster:"b-toaster-top-center",solid:!0,variant:"success",noCloseButton:!0})},error:function(t,e,a){t.$bvToast.toast(e,{toaster:"b-toaster-top-center",solid:!0,variant:"danger",noCloseButton:!0})},warning:function(t,e,a){t.$bvToast.toast(e,{toaster:"b-toaster-top-center",solid:!0,variant:"warning",noCloseButton:!0})}},notification:{error:function(t,e){t.$helper.toast.error(t,e.response.data.message)}},callOneTimes:function(t,e,a){clearTimeout(this.timeout),this.timeout=setTimeout((function(){a?t(a):t()}),e)},formatTimeZone:function(t){var e=t.split(":"),a=e[3];e.length=3;var n=e.join(":");return n+a},formatDatetime:function(t){return t?oe()(t).format(Q.formatDateTime):""},formatCurrency:function(t){return t?new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(t):""},parseCurrency:function(t){return t?parseInt(t.split(Q.currency.groupSeparator).join("").replace(Q.currency.suffix,"").replace(",","")):0},checkAmount:function(t){return!(!t||""===t||"0.00 ₫"===t)}}}},se={install:function(t,e){t.prototype.$table={fields:{product:[{key:"identity",label:"#",class:"td-width identity-style",thClass:"alert header-table-tile text-left",tdClass:"alert text-left"},{key:"image",label:"Ảnh hiển thị",class:"image-style",thClass:"alert header-table-tile",tdClass:"alert"},{key:"name",label:"Tên sản phẩm",class:"product-name-style",thClass:"alert header-table-tile text-left",tdClass:"alert text-left"},{key:"price",label:"Giá",class:"price-style",thClass:"alert header-table-tile text-left",tdClass:"alert text-left"},{key:"action",label:"",class:"action-style",thClass:"alert header-table-tile",tdClass:"alert"}],productRemoved:[{key:"identity",label:"#",class:"td-width identity-style",thClass:"alert header-table-tile text-left",tdClass:"alert text-left"},{key:"image",label:"Ảnh hiển thị",class:"image-style",thClass:"alert header-table-tile",tdClass:"alert"},{key:"name",label:"Tên sản phẩm",class:"product-name-style",thClass:"alert header-table-tile text-left",tdClass:"alert text-left"},{key:"note",label:"Lý do xóa",class:"product-note-style",thClass:"alert header-table-tile text-left",tdClass:"alert text-left"},{key:"undo",label:"",class:"action-style",thClass:"alert header-table-tile",tdClass:"alert"}]}}}},re={methods:{addItemToCookie:function(t,e){t&&e&&(document.cookie=t+"="+e)},getItemFromCookie:function(t){if(t){var e="; "+document.cookie,a=e.split("; "+name+"=");return 2===a.length?a.pop().split(";").shift():void 0}}}};n["default"].use({install:function(t,e){t.prototype.$Jquery=a("1157")}}),n["default"].use(re),n["default"].use(ae),n["default"].use(ie),n["default"].use(se),n["default"].use($);var ce=a("31bd"),le=(a("ddb0"),a("a925"));function de(){var t=a("68e7"),e={};return t.keys().forEach((function(a){var n=a.match(/([A-Za-z0-9-_]+)\./i);if(n&&n.length>1){var o=n[1];e[o]=t(a)}})),e}n["default"].use(le["a"]);var ue=new le["a"]({locale:Object({NODE_ENV:"production",BASE_URL:"/tkgd-admin/"}).VUE_APP_I18N_LOCALE||"en",fallbackLocale:Object({NODE_ENV:"production",BASE_URL:"/tkgd-admin/"}).VUE_APP_I18N_FALLBACK_LOCALE||"en",messages:de()}),pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-group"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v(t._s(t.titleSubmit))]),a("router-link",{staticClass:"btn btn-light",attrs:{to:{name:"home"}}},[t._v(t._s(t.$t("cancel")))])],1)},he=[],fe={props:{titleSubmit:{type:String,required:!0}}},me=fe,ge=Object(c["a"])(me,pe,he,!1,null,null,null),ve=ge.exports,be=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"has-search"},[a("span",{staticClass:"fa fa-search form-control-feedback"}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"},{name:"validate",rawName:"v-validate",value:t.validate?"required":"",expression:"validate ? 'required' : ''"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.placeholder,name:t.name?t.name:""},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),t.validate?a("form-field-error",{attrs:{"validation-errors":t.errors,field:t.name}}):t._e()],1)])},ye=[],Pe={data:function(){return{search:"",users:[]}},props:{name:{type:String},validate:{type:Boolean},data:{type:Array},updateSearch:{type:String},placeholder:{type:String,required:!0}},created:function(){this.updateSearch&&""!==this.updateSearch&&this.$set(this,"search",this.updateSearch)},methods:{confirm:function(t){console.log(t)}},watch:{search:function(t,e){t!==e&&this.$emit("searchValue",t)},updateSearch:function(t,e){this.$set(this,"search",t)}}},Ce=Pe,$e=(a("0b86"),Object(c["a"])(Ce,be,ye,!1,null,null,null)),je=$e.exports,we=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.validationErrors.has(t.field),expression:"validationErrors.has(field)"}],staticClass:"validation-message"},[a("i",{staticClass:"fas fa-exclamation",attrs:{focusable:"false"}}),t._v(" "),a("span",[t._v(t._s(t.errorMessage))])])},ke=[],_e={props:{field:{required:!0,type:String},validationErrors:{required:!0,type:Object}},computed:{errorMessage:function(){if(this.validationErrors.has(this.field)){var t=this.validationErrors.first(this.field),e=this.$t(this.field);return t.replace(this.field,e)}return null}}},xe=_e,Se=Object(c["a"])(xe,we,ke,!1,null,null,null),Ie=Se.exports,De=a("9062"),Oe=a.n(De),Te=a("4a7a"),Ne=a.n(Te),Ee=(a("e40d"),a("6dfc"),a("7699").default);Object(ce["sync"])(L,te),ue.locale="vn",n["default"].component("button-form",ve),n["default"].component("search-input",je),n["default"].component("v-select",Ne.a),n["default"].use(Ee),n["default"].component("form-field-error",Ie),n["default"].component("loading",Oe.a),window.app=new n["default"]({store:L,router:te,i18n:ue,render:function(t){return t(d)}}).$mount("#app")},"56fd":function(t,e,a){"use strict";var n=a("c487"),o=a.n(n);o.a},5725:function(t,e,a){"use strict";var n=a("1313"),o=a.n(n);o.a},"580f":function(t,e,a){},"5c0b":function(t,e,a){"use strict";var n=a("00f5"),o=a.n(n);o.a},"64f1":function(t,e,a){},"68e7":function(t,e,a){var n={"./vn.json":"22ed"};function o(t){var e=i(t);return a(e)}function i(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}o.keys=function(){return Object.keys(n)},o.resolve=i,t.exports=o,o.id="68e7"},"79de":function(t,e,a){},a28f:function(t,e,a){"use strict";var n=a("4366"),o=a.n(n);o.a},a3c3:function(t,e,a){"use strict";var n=a("64f1"),o=a.n(n);o.a},bee0:function(t,e,a){"use strict";var n=a("79de"),o=a.n(n);o.a},c487:function(t,e,a){},d393:function(t,e,a){"use strict";var n=a("23fa"),o=a.n(n);o.a},d694:function(t,e,a){},e6a8:function(t,e,a){},fcc5:function(t,e,a){}});
//# sourceMappingURL=app.3594bef2.js.map